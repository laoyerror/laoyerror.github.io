<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
    <title>请用浏览器访问</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
    <div id="tips" style="font-size:25px;text-align: center;line-height: 50px;"></div>
    <script>
        // var url = 'https://19ta.com/go/?url=https://myzye.com/posts/5723f4f8.html';
        // var url = '?p=5723f4f8&t=2';
        var url = window.location.search;
        var ua = navigator.userAgent.toLowerCase();
        var isQQ = ua.indexOf('qq') != -1;
        var isWeixin = ua.indexOf('micromessenger') != -1;
        var isAndroid = ua.indexOf('android') != -1;
        var isIos = (ua.indexOf('iphone') != -1) || (ua.indexOf('ipad') != -1);
        var notice_openBrowser = "<h2>请点击右上角，通过浏览器打开本页面</h2><br />或者复制下面链接到浏览器打开<br />" + urlParmStr
        var urlParmStr = ''
        var param = url.replace('?', '')
        var obj = {}

        if (url) {
            param.trim().split('&').forEach(item => obj[item.split('=')[0]] = item.split('=')[1])
            var isValid = obj.hasOwnProperty('p')
            if (obj.hasOwnProperty('t')) {
                if (obj.t === '1' && isValid) {
                    urlParmStr = 'https://myzye.com/posts/' + obj.p + '.html'
                } else if (obj.t === '2' && isValid) {
                    urlParmStr = 'https://laoyee.app/posts/' + obj.p + '.html'
                } else if (obj.t === '3' && isValid) {
                    urlParmStr = 'https://huoban.men/posts/' + obj.p + '.html'
                } else {
                    block()
                }
            } else {
                if (isValid) {
                    urlParmStr = 'https://myzye.com/posts/' + obj.p + '.html'
                } else {
                    block()
                }
            }

        } else {
            block()
        }

        if (isWeixin || isQQ) {
            if (isAndroid) {
                document.getElementById("tips").innerHTML = notice_openBrowser;
            } else if (isIos) {
                document.getElementById("tips").innerHTML = notice_openBrowser;
            } else {
                document.getElementById("tips").innerHTML = notice_openBrowser;
            }
        } else {
            location.href = urlParmStr;
        }

        function block() {
            // location.href = '/sim.html'
            urlParmStr = 'https://myzye.com/'
        }
    </script>
</body>

</html>