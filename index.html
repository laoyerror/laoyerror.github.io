<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
    <title>提示</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <style>
        * {
            background-color: #ededed;
        }

        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        h2 {
            font-size: 22px;
        }

        span {
            font-size: 20px;
        }

        .tips {
            font-size: 16px;
            margin-top: 80px;
            text-align: center;
            line-height: 50px;
        }

        .footer {
            position: fixed;
            left: 0;
            bottom: 0;
            z-index: 9;
            width: 100%;
            line-height: 30px;
            text-align: center;
            color: #AAB7B8;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <div class="tips">
    </div>
    <div class="footer">
        永久地址发布页(<strong>19ta.com</strong>)
    </div>
    <script>
        var url = window.location.search;
        var ua = navigator.userAgent.toLowerCase();
        var isQQ = ua.indexOf('qq') != -1;
        var isWeixin = ua.indexOf('micromessenger') != -1;
        var isAndroid = ua.indexOf('android') != -1;
        var isIos = (ua.indexOf('iphone') != -1) || (ua.indexOf('ipad') != -1);
        var urlParmStr = 'https://myzye.com/'
        var notice_openBrowser = "<h2>请点击右上角，通过浏览器打开本页面</h2><br /><span>或者复制下面链接到浏览器打开</span><br />"
        var param = url.replace('?', '')
        var obj = {}

        if (url) {
            param.trim().split('&').forEach(item => obj[item.split('=')[0]] = item.split('=')[1])
            var isValid = obj.hasOwnProperty('p')
            if (obj.hasOwnProperty('t')) {
                if (obj.t === '1' && isValid) {
                    urlParmStr = 'https://myzye.com/posts/' + obj.p + '.html'
                } else if (obj.t === '2' && isValid) {
                    urlParmStr = 'https://laoyee.app/posts/' + obj.p + '.html'
                } else if (obj.t === '3' && isValid) {
                    urlParmStr = 'https://huoban.men/posts/' + obj.p + '.html'
                } else {
                    block()
                }
            } else {
                if (isValid) {
                    urlParmStr = 'https://myzye.com/posts/' + obj.p + '.html'
                } else {
                    block()
                }
            }

        } else {
            block()
        }

        if (isWeixin || isQQ) {
            if (isAndroid) {
                document.getElementById("tips").innerHTML = notice_openBrowser + urlParmStr;
            } else if (isIos) {
                document.getElementById("tips").innerHTML = notice_openBrowser + urlParmStr;
            } else {
                document.getElementById("tips").innerHTML = notice_openBrowser + urlParmStr;
            }
        } else {
            location.href = urlParmStr;
        }

        function block() {
            urlParmStr = 'https://myzye.com/'
        }
    </script>
</body>

</html>